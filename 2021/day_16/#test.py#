#!/usr/bin/env python3

import unittest

class TestBitStream(unittest.TestCase):
    def test_read(self):
        bs = BitStream(bytes.fromhex("00"))
        self.assertEqual(bs.read(1), 0)

        bs = BitStream(bytes.fromhex("1f"))
        bs.read(3)
        self.assertEqual(bs.read(5), 31)

        bs = BitStream(bytes.fromhex("0ff0"))
        bs.read(4)
        self.assertEqual(bs.read(8), 255)
